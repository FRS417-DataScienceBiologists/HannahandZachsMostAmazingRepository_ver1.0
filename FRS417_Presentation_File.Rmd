---
title: "Exploration of Metabolite Levels Across the Brains of Rats Treated with Varriable Doses of DMSO"
author: Zach Rabow and Hannah Houts
date: March 15, 2019
output: 
  ioslides_presentation:
    transition: slower
    incremental: true
#    css: styles.css

#autosize: true
---






# Description of the Experiment

 - This is a description of the study, and how rats got injected with solvents. its a whole thing

#Data Tidying
## Description of the Data 

The data was came as an excel file that was not #Tidy at all. 

-data (treatment) was stored in column names, not as a vector
-this occured across 3 parts of the data:
  -the mean intensity
  -the p-value
  -the fold change
-vector names are full of "."s and spaces, which will cause problems with ggplot
  
## How we Tidyd the data
```{r load data & libraries, include = FALSE}
Untidy_DMSO_Data <- readr::read_csv("UntidyFYSDataSet.csv")

library("tidyverse")
library("ggplot2")
library("ggthemr")
library("devtools")
library("RColorBrewer")

options(scipen = 999)
```

```{r}
Untidy_DMSO_Data
```
## How we "#Tidy"d the data
Oof, those column names have to go
```{r}
colnames(Untidy_DMSO_Data)
```

## How we "#Tidy"d the data
```{r}
Untidy_DMSO_Data <- Untidy_DMSO_Data %>%
  rename(
          "Chemical_Name" = ChemicalName,
          "Mean_Intensity_Control" = mean.Control.PBS,
          "Mean_Intensity_02" = mean.0.2.mg.kg.DMSO,
          "Mean_Intensity_20" = mean.2.0.mg.kg.DMSO,
          "Mean_Intensity_40" = mean.4.0.mg.kg.DMSO,
          "Fold_Change_02" = FC_lowvsCTRL,
          "Fold_Change_20" = FC_medvsCTRL,
          "Fold_Change_40" = FC_highvsCTRL,
          "p_val_02" = post.hoc.Control.PBS.0.2.mg.kg.DMSO,
          "p_val_20" = post.hoc.Control.PBS.2.0.mg.kg.DMSO,
          "p_val_40" = post.hoc.Control.PBS.4.0.mg.kg.DMSO
          )
```

## How we "#Tidy"d the data
Much Better!
```{r}
colnames(Untidy_DMSO_Data)
```
Now we need to Gather some columns

## How we "#Tidy"d the data

We gathered intensities and made a data frame with <b> only </b> intensities
```{r, results='hide'}
Intensity_DMSO_Data<- Untidy_DMSO_Data %>% 
   #Gathers 4 columns 
   gather(Mean_Intensity_Control, 
         Mean_Intensity_02, 
         Mean_Intensity_20, 
         Mean_Intensity_40, 
         key="Treatment", value="Mean_Intensity")%>% 
  
   #deletes part of unwanted text in data
   separate(Treatment, 
            into= c("Delete", "Treatment"), 
            sep = "_Intensity_") %>%   
  
   # selects 3 "key" columns, treatment, and intensity
   select(Region, ID, Chemical_Name, Treatment, Mean_Intensity)
```

## How we "#Tidy"d the data

We gathered fold changes and made a data frame with <b> only </b> fold changes
```{r, results='hide'}
Fold_Change_DMSO_Data<- Untidy_DMSO_Data %>% 
 #Gathers 4 columns 
   gather(Fold_Change_02, 
           Fold_Change_20,
           Fold_Change_40,
          key="Treatment", value="Fold_Change_vs_Control") %>% 

 #deletes part of unwanted text in data
 separate(Treatment, 
            into= c("Delete", "Treatment"), 
            sep = "_Change_") %>%   
  
 # selects 3 "key" columns, treatment, and intensity
 select(Region, ID, Chemical_Name, Treatment, Fold_Change_vs_Control)
```
